# “知行合一”之机器智能动手训练营：会学习的自动行驶“驴车”

[**(English)**](./README.md)


人工智能大概是当下最热门的技术话题了，我在《万物重构》中也屡次强调在这个科学与技术发展日新月异的时代，技术已经不是科学家与工程师的专有领域了，每个人都有必要亲自下水体会一下这一轮“春江水暖”的真实情况。在开始之前，有必要先强调一下，精确而言，这里介绍的项目与机器智能相关，是一个有关机器学习的实验，但并不能笼统的称之为人工智能。有关机器学习，机器智能与人工智能之间的异同点，读者可自行网上搜索，我未来在时机成熟时，也可能付诸笔端，与读者们分享我个人的体会。

任何的学习，都需要人们的时间与精力上的付出。学习的任务，依知识自身难度的不同，以及学习者本身知识水准的差异，有可能容易，也有可能困难，但无论怎样，我认为都应该是快乐和有趣的，这也是我强调“*边学边做，边做边学*”的学习方法的原因。学习新鲜事物的另一个便于入手的方式，就是所谓的“PBL”，*Problem-Based Learning*，即“基于实际问题为导向的学习”。

尽管很多人都跃跃欲试，希望能够动手尝试一些与机器学习相关的项目，以更好地理解当下最热门的话题，但目前大多数与机器学习相关的培训都把计算法相关的基础知识放在首位，这种方式对于科研工程人员是非常必要的，但对于绝大多数民众而言，则会让一门蛮实用、有趣的学科一开始就显得过于呆板，而没有目地和应用的死记硬背是枯燥的，就算开始掌握了，很快就会忘记。一种没有实际动手体验，并能够解决日常工作与生活中的真实痛点的学习不会是高效的学习，这也是许多非技术人士对“机器学习”项目有畏难情绪的重要原因，尤其会阻碍了很多需要了解“机器学习”与“机器智能”内涵，并做出相关决策的管理人员对于最新技术的理解与掌握，再加上很多媒体上的炒作，就有可能对社会与经济的发展产生负面影响。

当然要想实现对于机器智能的社会普及教育不是一件容易的事，方式也会多种多样，目前已经有很多单位和个人在做各式各样的有益尝试。本项目只能算是各种尝试之一而已。而且本项目针对的人群有限，需要响应者有一定的动手能力，又比较好玩，以期实现“边学边玩”之目的，这点需要读者们注意。

从[**Donkey Car**](http://www.donkeycar.com/)项目网站上的背景介绍可知，之所以取名为“Donkey”，一方面名称响亮、好玩，另一方面驴是人类最早驯化用于载物的动物之一，危险性很小，对儿童安全，项目开发者又很巧妙的取用了“驴”这种动物在“吃苦耐劳”的同时又“脾气倔强”之特质。反映到本项目上，就是容易上手，可以允许多种尝试，但又时常有你搞不定的情况出现，这也算是标准的“黑客”玩法吧。

“驴车”的基本思路，是先利用小巧的片上电脑（SOC: System-On-Chip，此处是树莓派，但未来并不局限于树莓派），由人来控制遥控车的驶，同时通过板载摄像头采集行驶沿途周围环境的图像数据。这些采集的图像数据会作为机器学习的训练素材，传送给计算能力更为强大的电脑（通常是装有GPU加速的台式机，或者云计算资源）进行机器学习。学习出来的算法模型经过调试、优化后再传回树莓派电脑。此时树莓派电脑即充当一台边缘计算设备，不再需要人类的干预，在车上以机器学习算法，通过对板载摄像头实时采集的环境数据的计算，来决定如何控制遥控车进行自动驾驶操作。目前tensorflow为其核心机器学习框架（用户可自行扩展机器学习框架），再辅之以tornado, keras, opencv等软件工具完成整套数据采集-传输-存储-计算-推理-控制的可迭代、闭环自动控制流程。由于用户会拥有一台可以经过训练后自主驾驶的模型车，其项目成就感明显，比单单学习“机器学习”理论要有趣得多，在有了初期的感性认识之后，用户可其根据自身需求，决定是否要进行更深入的学习与研究。那么让我们启动“驴车”之旅吧。

## 项目准备：

基本设备清单：

1. 树莓派3B/3B+和树莓派专用摄像头（camera module v2）
2. PWM控制板：官方推荐基于PCA9685的16路PWM I2C驱动板。有非常多的[选择](https://item.taobao.com/item.htm?spm=a1z10.3-c.w4002-14424458371.11.678f39d6yDjYQa&id=540859497736)。我需要有直接驱动无刷直流电机的能力，因此选择了adafruit的这块专为树莓派设计的[步进电机/直流电机驱动板](https://www.adafruit.com/product/2348)。
3. 遥控车：至少需要有两路伺服电机控制，用于遥控车转向控制和动力控制。通常可考虑1:10或1:16的比赛模型车。由于并不需要专用的比赛性能，一般业余娱乐用的车型即可，我选择的是[此款](https://item.taobao.com/item.htm?spm=a1z09.2.0.0.789a2e8dbrzyvs&id=26659596618&_u=22iv4kn6e7b)车型。
4. 结构件（3D打印与激光切割）：
    - 3D: [官方设计](https://www.thingiverse.com/thing:2781404)
    - 激光亚克力板雕刻（厚度5mm透明磨砂亚克力板）：在本项目代码库[CAD](./CAD/)目录内
5. 可选：蓝牙游戏控制器。官方推荐Nitendo WiiU蓝牙游戏控制器。我选择了[Xbox One蓝牙游戏控制器](https://item.jd.com/4086014.html)。需要对官方项目代码蓝牙遥控器部分的代码做调整，调整内容放在了[CodeModificationReference](./CodeModificationReference)目录内。

### 参考资料：

1. donkeycar[项目网站](http://docs.donkeycar.com/)与[github代码库](https://github.com/autorope/donkeycar)
2. [快捷启动介绍](https://github.com/autorope/donkey2)

*后续内容更新...*
